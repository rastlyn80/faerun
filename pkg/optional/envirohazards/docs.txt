Name: envirohazards

Description: This package allows the placement of 5 different types of environmental hazards that will inflict damage upon a character. The hazards are a plume of fire, a plume of gas (non-poisonous), a plume of steam, lightning, and falling rocks. To place a hazard, use the command .envirohcfg. You will be presented with a gump. From the gump you can choose one of the hazards and the damage that will be inflicted and the range. The damage amount is limited to 5 decimal places. The range is limited to one decimal place. Once you have made your choice and entered the damage and range, click the OKAY button and target the location you want to place your hazard. An invisible tile will be placed at the location.

Whenever a mobile comes within the range you specified, and remains within the range, there is a chance of the environmental hazard occurring. Chance is determined by picking a random number and if that number happens to be 42, the effects will happen. The range check is performed every 1,000 milliseconds. With the exception of the falling rocks and the lightning hazards, the damage diminishes based on a mobile's distance from the hazard tile. Falling rocks and lightning do the damage you entered in the gump no matter how far the mobile is from the tile. Note that you must have your see invisible privilege enabled to see the hazard tile and it is a good idea to set your invulnerable privilege as well. The control script does not perform a command level check when dealing out damage.

If you want to make changes to how the damages are applied, see the effectControl script. It is pretty well commented. So it should be fairly easy to understand.